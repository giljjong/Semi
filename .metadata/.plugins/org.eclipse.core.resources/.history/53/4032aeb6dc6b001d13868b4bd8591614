<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<c:set var="contextPath" value="${pageContext.request.contextPath}"></c:set>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="${contextPath}/resources/js/jquery-3.6.1.min.js"></script>
<script>
$(document).ready(function(){
	$('#btn1').click(function(){ fn_ajax1(); });
	$('#btn2').click(function(){ fn_ajax2(); });
	$('#btn3').click(function(){ fn_ajax3(); });
});

function fn_ajax1(){
	
	$('#result').empty();
	
	$.ajax({
		/* 요청 */
		type: 'get',
		url: '${contextPath}/member/detail1',
		data: 'id=' + $('#id').val() + '&pw=' + $('#pw').val(),
		/* 응답 */
		dataType: 'text',
		success: function(resData){
			$('#result').text(resData);
		},
		error: function(jqXHR){
			$('#result').text(jqXHR.responseText);
		}
	});  // ajax
	
}  // function

function fn_ajax2(){
	
	$('#result').empty();
	
	$.ajax({
		/* 요청 */
		type: 'get',
		url: '${contextPath}/member/detail2',
		data: $('#frm_member').serialize(),
		/* 응답 */
		dataType: 'json',
		success: function(resData){
			var ul = '<ul>';
			ul += '<li>' + resData.id + '</li>';
			ul += '<li>' + resData.pw + '</li>';
			ul += '</ul>';
			$('#result').html(ul);
		},
		error: function(jqXHR){
			$('#result').text(jqXHR.responseText);
		}
	});  // ajax
	
}  // function

function fn_ajax3(){
	
	$('#result').empty();
	
	$.ajax({
		/* 요청 */
		type: 'get',
		url: '${contextPath}/member/detail3',
		data: $('#frm_member').serialize(),
		/* 응답 */
		dataType: 'json',
		success: function(resData){
			var ul = '<ul>';
			ul += '<li>' + resData.id + '</li>';
			ul += '<li>' + resData.pw + '</li>';
			ul += '</ul>';
			$('#result').html(ul);
		}
	});  // ajax
	
}  // function
	
</script>
</head>
<body>
	<div>
		<div>
			<a href= "${contextPath}/upload/write">작성</a>
		</div>
		<hr>
		
		<div>
			<table border="1">
				<thead>
					<tr>
						<td>번호</td>
						<td>제목</td>
						<td>작성일</td>
						<td>첨부개수</td>
						<td>아이피</td>
						<td>조회수</td>
					</tr>
				</thead>
				<tbody id ="result">
					<c:forEach items="${uploadList}" var="upload">
						<tr>
							<td>${upload.uploadBoardNo}</td>
							<td><a href="${contextPath}/upload/detail?uploadBoardNo=${upload.uploadBoardNo}">${upload.uploadTitle}</a></td> 
							<td>${upload.createDate}</td>
							<td>${upload.attachCnt}</td>
							<td>${upload.ip}</td>
							<td>${upload.hit}</td>
						</tr>
					</c:forEach>
				</tbody>
			</table>
		</div>
		
	</div>
	
</body>
</html>